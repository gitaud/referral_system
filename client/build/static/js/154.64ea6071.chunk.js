"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[154],{24921:function(e,t,n){n.d(t,{JT:function(){return i},Kn:function(){return u},N:function(){return o},Uf:function(){return f},YP:function(){return p},ZX:function(){return l},cH:function(){return s},xH:function(){return d}});var r=n(74165),a=n(15861),c=n(43745),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).post("/menu/categories",n);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not create category",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).post("/menu/items",n);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not create menu item",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).get("/menu/categories/".concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not get category",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=7;break}return e.next=4,(0,c.W)(t).get("/menu/categories?".concat(n));case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,(0,c.W)(t).get("/menu/categories");case 9:a=e.sent;case 10:return e.abrupt("return",a.data);case 13:throw e.prev=13,e.t0=e.catch(0),new Error("Could not fetch categories",{cause:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).patch("/menu/categories/".concat(n),a);case 3:return u=e.sent,e.abrupt("return",u.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not update menu category",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).patch("/menu/items/".concat(n),a);case 3:return u=e.sent,e.abrupt("return",u.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not create menu item",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).delete("/menu/categories/".concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not delete menu category",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).delete("/menu/items/".concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not delete item",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},64729:function(e,t,n){var r=n(47313);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r.useRef)(document.title);(0,r.useLayoutEffect)((function(){document.title=e}),[e]),(0,r.useLayoutEffect)((function(){t&&(document.title=n.current)}),[t])}},62154:function(e,t,n){n.a(e,(async function(e,r){try{n.r(t),n.d(t,{default:function(){return g}});var a=n(74165),c=n(15861),u=n(29439),o=n(47313),i=n(2135),s=n(44401),l=n(76482),f=n(67114),p=n.n(f),d=n(24921),h=n(40649),v=n(64729),m=n(75509),w=n(46417),Z=e([h]);function g(){(0,v.Z)("List Menu Categories");var e=(0,o.useState)([]),t=(0,u.Z)(e,2),n=t[0],r=t[1],f=(0,h.Eu)().user.authToken;(0,o.useLayoutEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=5;break}return e.next=3,(0,d.cH)(f,"");case 3:t=e.sent,r(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f]);var Z=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p().fire({title:"Deleting",timer:2e3,didOpen:function(){return p().showLoading()}}),e.next=4,(0,d.YP)(f,t);case 4:setTimeout((function(){p().fire({icon:"success",title:"Menu item deleted",showConfirmButton:!0,timer:2e3}).then((function(e){e.isConfirmed&&window.location.reload()}))}),1500),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p().fire({icon:"error",title:"Oops",text:"".concat((null===e.t0||void 0===e.t0||null===(n=e.t0.cause)||void 0===n||null===(r=n.response)||void 0===r?void 0:r.data)||"Something went wrong!")});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x=[{field:"name",headerName:"Item",flex:.66,renderCell:function(e){return(0,w.jsx)(i.rU,{className:m.Z.listLink,state:e.row,to:"/menu/categories/"+e.row._id,children:(0,w.jsx)("div",{className:m.Z.listItem,children:e.row.name})})}},{field:"action",headerName:"Action",flex:.34,renderCell:function(e){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.rU,{to:"/menu/categories/"+e.row._id,state:e.row,children:(0,w.jsx)("button",{className:m.Z.listEdit,children:"Edit"})}),(0,w.jsx)(l.Z,{className:m.Z.listDelete,onClick:function(){return Z(e.row._id)}})]})}}];return(0,w.jsxs)("div",{className:m.Z.list,children:[(0,w.jsx)("div",{className:m.Z.titleContainer,children:(0,w.jsx)("h1",{children:"Menu categories "})}),(0,w.jsx)(s._,{rows:n,disableSelectionOnClick:!0,columns:x,autoPageSize:!0,pagination:!0,getRowId:function(e){return e._id}}),(0,w.jsx)(i.rU,{to:"/menu/categories/new",children:(0,w.jsx)("button",{className:m.Z.createButton,children:"New Category"})})]})}h=(Z.then?(await Z)():Z)[0],r()}catch(x){r(x)}}))},76482:function(e,t,n){var r=n(81171),a=n(46417);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},75509:function(e,t){t.Z={list:"Table_list__R+uU9",titleContainer:"Table_titleContainer__IZkED",editButton:"Table_editButton__EdPtZ",listLink:"Table_listLink__pR0K1",listItem:"Table_listItem__HBDqE",listImg:"Table_listImg__Aq0uc",listEdit:"Table_listEdit__xBLkr",listDelete:"Table_listDelete__KwCrd",createButton:"Table_createButton__W6MPP"}}}]);