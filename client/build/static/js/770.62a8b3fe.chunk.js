"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[770],{91903:function(e,t,r){r.d(t,{_X:function(){return c},_v:function(){return i},f2:function(){return o},go:function(){return u}});var n=r(74165),a=r(15861),s=r(43745),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.W)(t).post("/transactions/",r);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not create transaction",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.W)(t).get("/transactions/".concat(r));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not fetch transaction",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.W)(t).get("/transactions?".concat(r));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not fetch transactions",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.W)(t).get("/transactions/income");case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not fetch transaction income info",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},57372:function(e,t,r){r.d(t,{AW:function(){return i},Nq:function(){return o},X_:function(){return f},qz:function(){return d},r4:function(){return c},tv:function(){return u},y1:function(){return l}});var n=r(74165),a=r(15861),s=r(43745),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.W)(t).post("/users",r);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Failed to create user",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.W)(t).get("/users/".concat(r));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Failed to get user",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.W)(t).get("/users?".concat(r));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Failed to get all users",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r,a){var c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.W)(t).patch("/users/".concat(r),a);case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Failed to update user",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.W)(t).get("/users/search?".concat(r));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Failed to search user",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r,a){var c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.W)(t).patch("/users/referral/add/".concat(r),a);case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Failed to add referral",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.W)(t).get("/users/stats");case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Cannot get user stats",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},64729:function(e,t,r){var n=r(47313);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,n.useRef)(document.title);(0,n.useLayoutEffect)((function(){document.title=e}),[e]),(0,n.useLayoutEffect)((function(){t&&(document.title=r.current)}),[t])}},47010:function(e,t,r){r.d(t,{Z:function(){return f}});r(47313);var n=r(62045),a=r(18225),s=r(26236),c=r(52885),u=r(45163),i=r(37169),o=r(87483),d={chart:"Chart_chart__CmJxy",chartTitle:"Chart_chartTitle__OEjR5"},l=r(46417);function f(e){var t=e.title,r=e.data,f=e.dataKey,g=e.grid;return(0,l.jsxs)("div",{className:d.chart,children:[(0,l.jsx)("h3",{className:d.chartTitle,children:t}),(0,l.jsx)(n.h,{width:"100%",aspect:4,children:(0,l.jsxs)(a.w,{data:r,children:[(0,l.jsx)(s.K,{dataKey:"name",stroke:"#5550bd"}),(0,l.jsx)(c.x,{type:"monotone",stroke:"#5550bd",dataKey:f}),(0,l.jsx)(u.u,{}),g&&(0,l.jsx)(i.q,{stroke:"#e0dfdf",strokeDasharray:"5 5"}),(0,l.jsx)(o.D,{})]})})]})}},77747:function(e,t,r){r.a(e,(async function(e,n){try{r.d(t,{Z:function(){return p}});var a=r(74165),s=r(15861),c=r(29439),u=r(47313),i=r(18097),o=r(3490),d=r(40649),l=r(91903),f=r(70841),g=r(46417),h=e([d]);function p(){var e,t=(0,d.Eu)().user,r=(0,u.useState)([]),n=(0,c.Z)(r,2),h=n[0],m=n[1],p=(0,u.useState)(0),w=(0,c.Z)(p,2),v=w[0],_=w[1];return(0,u.useLayoutEffect)((function(){var e=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.f2)(t.authToken);case 3:(r=e.sent).sort((function(e,t){return e.total-t.total})),m(r),_((r[1].total-r[0].total)/r[0].total*100),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),(0,g.jsx)("div",{className:f.Z.featured,children:(0,g.jsxs)("div",{className:f.Z.featuredItem,children:[(0,g.jsx)("span",{className:f.Z.featuredTitle,children:"Revenue"}),(0,g.jsxs)("div",{className:f.Z.featuredMoneyContainer,children:[(0,g.jsxs)("span",{className:f.Z.featuredMoney,children:["Ksh ",(null===h||void 0===h?void 0:h.length)>1?h[1].total:null===(e=h[0])||void 0===e?void 0:e.total]}),(0,g.jsxs)("span",{className:f.Z.featuredMoneyRate,children:[Math.floor(v)," % ",v>0?(0,g.jsx)(i.Z,{className:f.Z.featuredIcon}):(0,g.jsx)(o.Z,{className:f.Z.featuredIconnegative})]})]}),(0,g.jsxs)("span",{className:f.Z.featuredSub,children:["Compared to last month's Ksh ",(null===h||void 0===h?void 0:h.length)>1?h[0].total:0]})]})})}d=(h.then?(await h)():h)[0],n()}catch(m){n(m)}}))},67770:function(e,t,r){r.a(e,(async function(e,n){try{r.r(t),r.d(t,{default:function(){return _}});var a=r(74165),s=r(15861),c=r(29439),u=r(47313),i=r(40649),o=r(57372),d=r(64729),l=r(77747),f=r(47010),g=r(62950),h=r(31045),m=r(84469),p=r(46417),w=e([i,l,g,h]);function _(){(0,d.Z)("Referral System - Home");var e=(0,i.Eu)().user,t=(0,u.useState)([]),r=(0,c.Z)(t,2),n=r[0],w=r[1],v=(0,u.useMemo)((function(){return["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"]}),[]);return(0,u.useLayoutEffect)((function(){var t=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){var r,n,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.X_)(e.authToken);case 3:for(r=t.sent,n=[],r.sort((function(e,t){return e._id-t._id})),s=0;s<r.length;s++)n.push({name:v[r[s]._id-1],"Users Added":r[s].total});w(n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[v,e]),(0,p.jsxs)("div",{className:m.Z.home,children:[(0,p.jsx)(l.Z,{}),(0,p.jsx)(f.Z,{data:n,title:"User Analytics",dataKey:"Users Added",grid:!0}),(0,p.jsxs)("div",{className:m.Z.homeWidgets,children:[(0,p.jsx)(h.Z,{}),(0,p.jsx)(g.Z,{})]})]})}[i,l,g,h]=w.then?(await w)():w,n()}catch(v){n(v)}}))},62950:function(e,t,r){r.a(e,(async function(e,n){try{r.d(t,{Z:function(){return m}});var a=r(74165),s=r(15861),c=r(29439),u=r(47313),i=r(2135),o=r(40649),d=r(91903),l=r(62241),f=r(46417),g=e([o]);function m(){var e=(0,o.Eu)().user,t=(0,u.useState)([]),r=(0,c.Z)(t,2),n=r[0],g=r[1];return(0,u.useLayoutEffect)((function(){var t=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){var r,n,s,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Date,n=new Date(r.setHours(0,0,0)),s="date_gte=".concat(n.toDateString(),"&date_lte=").concat(r.toDateString()),t.next=6,(0,d._v)(e.authToken,s);case 6:c=t.sent,g(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),(0,f.jsxs)("div",{className:l.Z.widgetLg,children:[(0,f.jsx)("h3",{className:l.Z.widgetLgTitle,children:"Latest Transactions"}),(0,f.jsxs)("table",{className:l.Z.widgetLgTable,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{className:l.Z.widgetLgTr,children:[(0,f.jsx)("th",{className:l.Z.widgetLgTh,children:"Date"}),(0,f.jsx)("th",{className:l.Z.widgetLgTh,children:"Amount"}),(0,f.jsx)("th",{className:l.Z.widgetLgTh,children:"Commission"}),(0,f.jsx)("th",{className:l.Z.widgetLgTh,children:"Action"})]})}),(0,f.jsx)("tbody",{children:n&&n.map((function(e){return(0,f.jsxs)("tr",{className:l.Z.widgetLgTr,children:[(0,f.jsx)("td",{className:l.Z.widgetLgDate,children:new Date(e.createdAt).toDateString()}),(0,f.jsxs)("td",{className:l.Z.widgetLgAmount,children:["Ksh ",e.amount]}),(0,f.jsxs)("td",{className:l.Z.widgetLgAmount,children:["Ksh ",e.commission||0]}),(0,f.jsx)("td",{className:l.Z.widgetLgStatus,children:(0,f.jsx)(i.rU,{className:l.Z.widgetLgButton,to:"transaction/".concat(e._id),children:"View"})})]},e._id)}))})]})]})}o=(g.then?(await g)():g)[0],n()}catch(h){n(h)}}))},31045:function(e,t,r){r.a(e,(async function(e,n){try{r.d(t,{Z:function(){return p}});var a=r(74165),s=r(15861),c=r(29439),u=r(47313),i=r(2135),o=r(91210),d=r(40649),l=r(57372),f=r(68346),g=r(46417),h=e([d]);function p(){var e=(0,d.Eu)().user,t=(0,u.useState)([]),r=(0,c.Z)(t,2),n=r[0],h=r[1];return(0,u.useLayoutEffect)((function(){var t=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.AW)(e.authToken,"limit=true");case 3:r=t.sent,h(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),(0,g.jsxs)("div",{className:f.Z.widgetSm,children:[(0,g.jsx)("span",{className:f.Z.widgetSmTitle,children:"New Members"}),(0,g.jsx)("ul",{className:f.Z.widgetSmList,children:n&&n.map((function(e){return(0,g.jsxs)("li",{className:f.Z.widgetSmListItem,children:[(0,g.jsx)("img",{src:e.img||"https://static.vecteezy.com/system/resources/previews/001/840/618/large_2x/picture-profile-icon-male-icon-human-or-people-sign-and-symbol-free-vector.jpg",alt:"",className:f.Z.widgetSmImg}),(0,g.jsxs)("div",{className:f.Z.widgetSmUser,children:[(0,g.jsx)("span",{className:f.Z.widgetSmUsername,children:e.name}),(0,g.jsx)("span",{className:f.Z.widgetSmUserTitle,children:e.email})]}),(0,g.jsxs)(i.rU,{to:"user/".concat(e._id),className:f.Z.widgetSmButton,children:[(0,g.jsx)(o.Z,{className:f.Z.widgetSmIcon}),"Display"]})]},e._id)}))})]})}d=(h.then?(await h)():h)[0],n()}catch(m){n(m)}}))},70841:function(e,t){t.Z={featured:"FeaturedInfo_featured__LQsoN",featuredItem:"FeaturedInfo_featuredItem__S+n5W",featuredTitle:"FeaturedInfo_featuredTitle__16GnJ",featuredMoneyContainer:"FeaturedInfo_featuredMoneyContainer__z9Am3",featuredMoney:"FeaturedInfo_featuredMoney__FpEYf",featuredMoneyRate:"FeaturedInfo_featuredMoneyRate__PqD7s",featuredIcon:"FeaturedInfo_featuredIcon__jO-hd",negative:"FeaturedInfo_negative__-GVBs",featuredSub:"FeaturedInfo_featuredSub__IGBb4"}},84469:function(e,t){t.Z={home:"Home_home__aqppz",homeWidgets:"Home_homeWidgets__jLwsc"}},62241:function(e,t){t.Z={widgetLg:"WidgetLg_widgetLg__AVCMQ",widgetLgTitle:"WidgetLg_widgetLgTitle__bJi7S",widgetLgTable:"WidgetLg_widgetLgTable__rT4Zu",widgetLgTh:"WidgetLg_widgetLgTh__Cqokm",widgetLgUser:"WidgetLg_widgetLgUser__hlptN",widgetLgImg:"WidgetLg_widgetLgImg__Mx-Cw",widgetLgDate:"WidgetLg_widgetLgDate__+kqLx",widgetLgAmount:"WidgetLg_widgetLgAmount__Xr2Xn",widgetLgButton:"WidgetLg_widgetLgButton__7sK48"}},68346:function(e,t){t.Z={widgetSm:"WidgetSm_widgetSm__hX2W5",widgetSmTitle:"WidgetSm_widgetSmTitle__pWXIM",widgetSmImg:"WidgetSm_widgetSmImg__ZbxoV",widgetSmList:"WidgetSm_widgetSmList__r6AMj",widgetSmListItem:"WidgetSm_widgetSmListItem__NP0OE",widgetSmUser:"WidgetSm_widgetSmUser__nhk8A",widgetSmUsername:"WidgetSm_widgetSmUsername__I2n0k",widgetSmUserTitle:"WidgetSm_widgetSmUserTitle__UsjxY",widgetSmButton:"WidgetSm_widgetSmButton__KYrlN",widgetSmIcon:"WidgetSm_widgetSmIcon__R7aAe"}}}]);