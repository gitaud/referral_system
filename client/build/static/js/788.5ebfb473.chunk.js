"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[788],{91903:function(n,t,a){a.d(t,{_X:function(){return r},_v:function(){return o},f2:function(){return l},go:function(){return c}});var e=a(74165),s=a(15861),i=a(43745),r=function(){var n=(0,s.Z)((0,e.Z)().mark((function n(t,a){var s;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,i.W)(t).post("/transactions/",a);case 3:return s=n.sent,n.abrupt("return",s.data);case 7:throw n.prev=7,n.t0=n.catch(0),new Error("Could not create transaction",{cause:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t,a){return n.apply(this,arguments)}}(),c=function(){var n=(0,s.Z)((0,e.Z)().mark((function n(t,a){var s;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,i.W)(t).get("/transactions/".concat(a));case 3:return s=n.sent,n.abrupt("return",s.data);case 7:throw n.prev=7,n.t0=n.catch(0),new Error("Could not fetch transaction",{cause:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t,a){return n.apply(this,arguments)}}(),o=function(){var n=(0,s.Z)((0,e.Z)().mark((function n(t,a){var s;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,i.W)(t).get("/transactions?".concat(a));case 3:return s=n.sent,n.abrupt("return",s.data);case 7:throw n.prev=7,n.t0=n.catch(0),new Error("Could not fetch transactions",{cause:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t,a){return n.apply(this,arguments)}}(),l=function(){var n=(0,s.Z)((0,e.Z)().mark((function n(t){var a;return(0,e.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,i.W)(t).get("/transactions/income");case 3:return a=n.sent,n.abrupt("return",a.data);case 7:throw n.prev=7,n.t0=n.catch(0),new Error("Could not fetch transaction income info",{cause:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()},64729:function(n,t,a){var e=a(47313);t.Z=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=(0,e.useRef)(document.title);(0,e.useLayoutEffect)((function(){document.title=n}),[n]),(0,e.useLayoutEffect)((function(){t&&(document.title=a.current)}),[t])}},7788:function(n,t,a){a.a(n,(async function(n,e){try{a.r(t),a.d(t,{default:function(){return N}});var s=a(74165),i=a(15861),r=a(29439),c=a(47313),o=a(7524),l=a(92530),h=a(30868),u=a(75239),m=a(67114),d=a.n(m),w=a(58467),v=a(2135),_=a(40649),f=a(91903),p=a(64729),Z=a(52710),x=a(46417),T=n([_]);function N(){var n,t,a=(0,_.Eu)().user,e=(0,w.UO)().id;(0,p.Z)("Transaction ".concat(e));var m=(0,c.useState)(),T=(0,r.Z)(m,2),j=T[0],N=T[1];return(0,c.useLayoutEffect)((function(){var n=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(){var t,i,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,f.go)(a.authToken,e);case 3:t=n.sent,N(t),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),d().fire({icon:"error",title:"Oops",text:"".concat((null===n.t0||void 0===n.t0||null===(i=n.t0.cause)||void 0===i||null===(r=i.response)||void 0===r?void 0:r.data)||"Something went wrong!"),timer:2e3});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()}),[a,e]),j&&(0,x.jsxs)("div",{className:Z.Z.transaction,children:[(0,x.jsx)("div",{className:Z.Z.transactionTitleContainer,children:(0,x.jsx)("h1",{className:Z.Z.transactionTitle,children:"View Transaction "})}),(0,x.jsxs)("div",{className:Z.Z.transactionContainer,children:[(0,x.jsx)("div",{className:Z.Z.transactionShow,children:(0,x.jsxs)("div",{className:Z.Z.transactionShowBottom,children:[(0,x.jsx)("span",{className:Z.Z.transactionShowTitle,children:"Transaction Details"}),(0,x.jsxs)("div",{className:Z.Z.transactionShowInfo,children:[(0,x.jsx)(o.Z,{className:Z.Z.transactionShowIcon}),j.customer_id?(0,x.jsxs)(v.rU,{to:"/user/".concat(j.customer_id._id),className:Z.Z.link,children:["Customer: ",null===(n=j.customer_id)||void 0===n?void 0:n.name]}):(0,x.jsx)("span",{className:Z.Z.transactionShowInfoTitle,children:"Customer: Not Registered"})]}),(0,x.jsx)("span",{className:Z.Z.transactionShowTitle,children:"Level and Commission"}),(0,x.jsxs)("div",{className:Z.Z.transactionShowInfo,children:[(0,x.jsx)(l.Z,{className:Z.Z.transactionShowIcon}),(0,x.jsxs)("span",{className:Z.Z.transactionShowInfoTitle,children:["Level: ",(null===(t=j.level)||void 0===t?void 0:t.name)||"Not Registered"]})]}),(0,x.jsxs)("div",{className:Z.Z.transactionShowInfo,children:[(0,x.jsx)(h.Z,{className:Z.Z.transactionShowIcon}),(0,x.jsxs)("span",{className:Z.Z.transactionShowInfoTitle,children:["Amount: Ksh ",j.amount||0]})]}),(0,x.jsxs)("div",{className:Z.Z.transactionShowInfo,children:[(0,x.jsx)(h.Z,{className:Z.Z.transactionShowIcon}),(0,x.jsxs)("span",{className:Z.Z.transactionShowInfoTitle,children:["Commission: Ksh ",j.commission||0]})]}),(0,x.jsxs)("div",{className:Z.Z.transactionShowInfo,children:[(0,x.jsx)(u.Z,{className:Z.Z.transactionShowIcon}),(0,x.jsxs)("span",{className:Z.Z.transactionShowInfoTitle,children:["Date Recorded: ",new Date(j.createdAt).toString().slice(0,25)]})]})]})}),(0,x.jsxs)("div",{className:Z.Z.cartWrapper,children:[(0,x.jsx)("p",{className:Z.Z.showTitle,children:"Order Details"}),(0,x.jsx)("hr",{className:Z.Z.line}),(0,x.jsxs)("div",{className:Z.Z.cart,children:[(0,x.jsxs)("div",{className:Z.Z.itemInfo,children:[(0,x.jsx)("p",{className:Z.Z.itemName,children:"Item"}),(0,x.jsx)("p",{className:Z.Z.itemPrice,children:"Qty"}),(0,x.jsx)("p",{className:Z.Z.itemPrice,children:"Price"}),(0,x.jsx)("p",{className:Z.Z.itemPrice,children:"Total"})]}),(0,x.jsx)("hr",{className:Z.Z.line}),(0,x.jsx)("div",{className:Z.Z.innerCart,children:function(){var n=[],t=function(t){n.push((0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:Z.Z.smallTitle,children:j.items[t].name}),function(){var n=[];for(var a in j.items[t].items)n.push((0,x.jsxs)("div",{className:Z.Z.cartItemInfo,children:[(0,x.jsx)("p",{className:Z.Z.itemName,children:j.items[t].items[a].name}),(0,x.jsx)("p",{className:Z.Z.itemPrice,children:j.items[t].items[a].quantity}),(0,x.jsxs)("p",{className:Z.Z.itemPrice,children:["Ksh ",j.items[t].items[a].price]}),(0,x.jsxs)("p",{className:Z.Z.itemPrice,children:["Ksh ",j.items[t].items[a].total]})]},a));return n}()]},j.items[t].name))};for(var a in j.items)t(a);return n}()}),(0,x.jsx)("hr",{className:Z.Z.line}),(0,x.jsxs)("div",{className:Z.Z.itemInfo,children:[(0,x.jsx)("p",{className:Z.Z.itemName,children:"Order Total:"}),(0,x.jsxs)("p",{className:Z.Z.itemPrice,children:["Ksh ",j.amount]})]})]})]})]})]})}_=(T.then?(await T)():T)[0],e()}catch(j){e(j)}}))},30868:function(n,t,a){var e=a(81171),s=a(46417);t.Z=(0,e.Z)([(0,s.jsx)("path",{d:"M21 7.28V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-2.28c.59-.35 1-.98 1-1.72V9c0-.74-.41-1.37-1-1.72zM20 9v6h-7V9h7zM5 19V5h14v2h-6c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h6v2H5z"},"0"),(0,s.jsx)("circle",{cx:"16",cy:"12",r:"1.5"},"1")],"AccountBalanceWalletOutlined")},75239:function(n,t,a){var e=a(81171),s=a(46417);t.Z=(0,e.Z)((0,s.jsx)("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8 11H4V6h4v5zm6 0h-4V6h4v5zm6 0h-4V6h4v5zM8 18H4v-5h4v5zm6 0h-4v-5h4v5zm6 0h-4v-5h4v5z"}),"CalendarViewMonthOutlined")},92530:function(n,t,a){var e=a(81171),s=a(46417);t.Z=(0,e.Z)((0,s.jsx)("path",{d:"M17 10.43V2H7v8.43c0 .35.18.68.49.86l4.18 2.51-.99 2.34-3.41.29 2.59 2.24L9.07 22 12 20.23 14.93 22l-.78-3.33 2.59-2.24-3.41-.29-.99-2.34 4.18-2.51c.3-.18.48-.5.48-.86zm-6 .64-2-1.2V4h2v7.07zm4-1.2-2 1.2V4h2v5.87z"}),"MilitaryTechOutlined")},7524:function(n,t,a){var e=a(81171),s=a(46417);t.Z=(0,e.Z)((0,s.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),"PermIdentity")},52710:function(n,t){t.Z={transaction:"ViewTransaction_transaction__ig5jB",transactionTitleContainer:"ViewTransaction_transactionTitleContainer__mqsKL",transactionTitle:"ViewTransaction_transactionTitle__5BxJV",transactionButtons:"ViewTransaction_transactionButtons__yeOGn",transactionAddButton:"ViewTransaction_transactionAddButton__SvGNg",transactionContainer:"ViewTransaction_transactionContainer__pEgkh",transactionShow:"ViewTransaction_transactionShow__KgdiV",transactionUpdate:"ViewTransaction_transactionUpdate__mnoDM",transactionShowTop:"ViewTransaction_transactionShowTop__c1jFC",transactionShowTopTitle:"ViewTransaction_transactionShowTopTitle__pifYH",transactionShowUsername:"ViewTransaction_transactionShowUsername__sVgWo",transactionShowUserTitle:"ViewTransaction_transactionShowUserTitle__c4xuT",transactionShowBottom:"ViewTransaction_transactionShowBottom__M8WWb",transactionShowTitle:"ViewTransaction_transactionShowTitle__FS0PD",transactionShowInfo:"ViewTransaction_transactionShowInfo__PQj0x",transactionShowIcon:"ViewTransaction_transactionShowIcon__p9My3",transactionShowInfoTitle:"ViewTransaction_transactionShowInfoTitle__mBuYS",link:"ViewTransaction_link__gVxRE",active:"ViewTransaction_active__iyiXw",cartWrapper:"ViewTransaction_cartWrapper__JLGmb",cart:"ViewTransaction_cart__7PgVz",innerCart:"ViewTransaction_innerCart__K7Zgt",showTitle:"ViewTransaction_showTitle__sD99n",smallTitle:"ViewTransaction_smallTitle__7hc4d",line:"ViewTransaction_line__2UA0c",itemInfo:"ViewTransaction_itemInfo__8U2W2",cartItemInfo:"ViewTransaction_cartItemInfo__gyOl-",itemName:"ViewTransaction_itemName__LS1aB",itemPrice:"ViewTransaction_itemPrice__dRiRu"}}}]);