"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[722],{24921:function(e,t,n){n.d(t,{JT:function(){return o},Kn:function(){return u},N:function(){return i},Uf:function(){return f},YP:function(){return d},ZX:function(){return l},cH:function(){return s},xH:function(){return p}});var r=n(74165),a=n(15861),c=n(43745),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).post("/menu/categories",n);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not create category",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).post("/menu/items",n);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not create menu item",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).get("/menu/categories/".concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not get category",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=7;break}return e.next=4,(0,c.W)(t).get("/menu/categories?".concat(n));case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,(0,c.W)(t).get("/menu/categories");case 9:a=e.sent;case 10:return e.abrupt("return",a.data);case 13:throw e.prev=13,e.t0=e.catch(0),new Error("Could not fetch categories",{cause:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).patch("/menu/categories/".concat(n),a);case 3:return u=e.sent,e.abrupt("return",u.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not update menu category",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).patch("/menu/items/".concat(n),a);case 3:return u=e.sent,e.abrupt("return",u.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not create menu item",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).delete("/menu/categories/".concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not delete menu category",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.W)(t).delete("/menu/items/".concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not delete item",{cause:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},64729:function(e,t,n){var r=n(47313);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r.useRef)(document.title);(0,r.useLayoutEffect)((function(){document.title=e}),[e]),(0,r.useLayoutEffect)((function(){t&&(document.title=n.current)}),[t])}},52722:function(e,t,n){n.a(e,(async function(e,r){try{n.r(t),n.d(t,{default:function(){return g}});var a=n(74165),c=n(15861),u=n(29439),i=n(47313),o=n(58467),s=n(2135),l=n(44401),f=n(76482),d=n(67114),p=n.n(d),h=n(24921),v=n(40649),m=n(64729),w=n(75509),x=n(46417),Z=e([v]);function g(){var e=(0,o.UO)().id,t=(0,v.Eu)().user,n=(0,i.useState)({items:[]}),r=(0,u.Z)(n,2),d=r[0],Z=r[1];(0,i.useLayoutEffect)((function(){var n=function(){var n=(0,c.Z)((0,a.Z)().mark((function n(){var r,c,u;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,h.JT)(t.authToken,e);case 3:r=n.sent,Z(r),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),p().fire({icon:"error",title:"Oops",text:"".concat((null===n.t0||void 0===n.t0||null===(c=n.t0.cause)||void 0===c||null===(u=c.response)||void 0===u?void 0:u.data)||"Could not fetch category")});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()}),[t,e]),(0,m.Z)("View Category - ".concat(d.name));var _=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(n){var r,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p().fire({title:"Deleting",timer:2e3,didOpen:function(){return p().showLoading()}}),e.next=4,(0,h.xH)(t.authToken,n);case 4:setTimeout((function(){p().fire({icon:"success",title:"Menu item deleted",showConfirmButton:!0,timer:2e3}).then((function(e){e.isConfirmed&&window.location.reload()}))}),1500),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p().fire({icon:"error",title:"Oops",text:"".concat((null===e.t0||void 0===e.t0||null===(r=e.t0.cause)||void 0===r||null===(c=r.response)||void 0===c?void 0:c.data)||"Something went wrong!")});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=[{field:"name",headerName:"Item",flex:.5,renderCell:function(e){return(0,x.jsx)("div",{className:w.Z.listItem,children:e.row.name})}},{field:"price",headerName:"Price",flex:.25},{field:"action",headerName:"Action",flex:.25,renderCell:function(e){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.rU,{to:"/menu/items/"+e.row._id,state:e.row,children:(0,x.jsx)("button",{className:w.Z.listEdit,children:"Edit"})}),(0,x.jsx)(f.Z,{className:w.Z.listDelete,onClick:function(){return _(e.row._id)}})]})}}];return d&&(0,x.jsxs)("div",{className:w.Z.list,children:[(0,x.jsxs)("div",{className:w.Z.titleContainer,children:[(0,x.jsx)("h1",{children:d.name}),(0,x.jsx)(s.rU,{to:"/menu/categories/".concat(d._id,"/edit"),state:d.name,children:(0,x.jsx)("button",{className:w.Z.editButton,children:"Edit"})})]}),(0,x.jsx)(l._,{rows:d.items,disableSelectionOnClick:!0,columns:g,autoPageSize:!0,pagination:!0,getRowId:function(e){return e._id}}),(0,x.jsx)(s.rU,{to:"/menu/categories/".concat(d._id,"/items/new"),state:d.name,children:(0,x.jsx)("button",{className:w.Z.createButton,children:"Add Item"})})]})}v=(Z.then?(await Z)():Z)[0],r()}catch(_){r(_)}}))},76482:function(e,t,n){var r=n(81171),a=n(46417);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},75509:function(e,t){t.Z={list:"Table_list__R+uU9",titleContainer:"Table_titleContainer__IZkED",editButton:"Table_editButton__EdPtZ",listLink:"Table_listLink__pR0K1",listItem:"Table_listItem__HBDqE",listImg:"Table_listImg__Aq0uc",listEdit:"Table_listEdit__xBLkr",listDelete:"Table_listDelete__KwCrd",createButton:"Table_createButton__W6MPP"}}}]);